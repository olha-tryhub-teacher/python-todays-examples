CREATE DATABASE school;
USE school;
CREATE TABLE student (
    id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    birth_date DATE
);

-- Таблиця вчителів
CREATE TABLE teacher (
    id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    birth_date DATE,
    salary DECIMAL(10,2)
);

-- Таблиця класів
CREATE TABLE class (
    id INT AUTO_INCREMENT PRIMARY KEY,
    start_year INT
);

-- Зв'язок клас ↔ учні (багато до багатьох)
CREATE TABLE class_student (
    class_id INT,
    student_id INT,
    PRIMARY KEY (class_id, student_id),
    FOREIGN KEY (class_id) REFERENCES class(id),
    FOREIGN KEY (student_id) REFERENCES student(id)
);

-- Таблиця предметів
CREATE TABLE subject (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100)
);

-- Таблиця уроків (розклад)
CREATE TABLE lesson (
    id INT AUTO_INCREMENT PRIMARY KEY,
    lesson_number INT,           -- 1–8
    week_day INT,
    subject_id INT,
    class_id INT,
    teacher_id INT,
    FOREIGN KEY (subject_id) REFERENCES subject(id),
    FOREIGN KEY (class_id) REFERENCES class(id),
    FOREIGN KEY (teacher_id) REFERENCES teacher(id)
);

INSERT INTO class (start_year) VALUES
(2022),
(2023),
(2024);

-- === Учні ===
-- 3 класи × 20 учнів = 60
INSERT INTO student (first_name, last_name, birth_date) VALUES
-- Клас 1
('Іван', 'Петренко', '2010-03-12'),
('Олена', 'Шевченко', '2010-07-25'),
('Марія', 'Коваль', '2010-01-18'),
('Сергій', 'Мельник', '2010-02-03'),
('Андрій', 'Ткаченко', '2010-05-14'),
('Юлія', 'Кравець', '2010-04-10'),
('Владислав', 'Сидоренко', '2010-06-09'),
('Олександр', 'Бондар', '2010-08-21'),
('Катерина', 'Захаренко', '2010-09-02'),
('Дарина', 'Лисенко', '2010-10-19'),
('Михайло', 'Романюк', '2010-11-28'),
('Ірина', 'Мороз', '2010-12-06'),
('Богдан', 'Савченко', '2010-02-16'),
('Анна', 'Кучер', '2010-04-27'),
('Дмитро', 'Коваленко', '2010-05-30'),
('Наталія', 'Рибак', '2010-06-15'),
('Максим', 'Литвин', '2010-07-04'),
('Ілля', 'Гончар', '2010-09-17'),
('Вероніка', 'Білик', '2010-11-05'),
('Олег', 'Поліщук', '2010-12-29'),

-- Клас 2
('Петро', 'Данилюк', '2011-03-14'),
('Оксана', 'Кравчук', '2011-05-09'),
('Тарас', 'Гнатюк', '2011-02-20'),
('Іванна', 'Мазур', '2011-01-07'),
('Олексій', 'Шевчук', '2011-06-18'),
('Дарія', 'Бойко', '2011-07-11'),
('Роман', 'Семенюк', '2011-08-30'),
('Анастасія', 'Гаврилюк', '2011-09-12'),
('Софія', 'Кушнір', '2011-10-24'),
('Марта', 'Василенко', '2011-11-16'),
('Богдан', 'Терещенко', '2011-12-02'),
('Євген', 'Мельничук', '2011-01-25'),
('Поліна', 'Білецька', '2011-03-30'),
('Олег', 'Кириченко', '2011-04-15'),
('Світлана', 'Зеленська', '2011-05-29'),
('Ігор', 'Онуфрієнко', '2011-06-10'),
('Руслан', 'Павленко', '2011-08-03'),
('Тетяна', 'Дорошенко', '2011-09-27'),
('Арсен', 'Гриценко', '2011-10-07'),
('Іван', 'Савчук', '2011-11-20'),

-- Клас 3
('Михайло', 'Гуменюк', '2012-01-12'),
('Ірина', 'Бабій', '2012-02-25'),
('Василь', 'Семенов', '2012-03-18'),
('Марія', 'Кузьменко', '2012-04-09'),
('Катерина', 'Гнатишин', '2012-05-05'),
('Олександр', 'Морозюк', '2012-06-21'),
('Юлія', 'Даниленко', '2012-07-13'),
('Софія', 'Клименко', '2012-08-29'),
('Богдан', 'Черненко', '2012-09-17'),
('Олег', 'Бойчук', '2012-10-23'),
('Наталя', 'Тимошенко', '2012-11-11'),
('Ілля', 'Петрук', '2012-12-01'),
('Анна', 'Мазепа', '2012-02-07'),
('Андрій', 'Кулинич', '2012-03-22'),
('Сергій', 'Кондратюк', '2012-04-30'),
('Іванна', 'Борисенко', '2012-06-12'),
('Владислав', 'Швець', '2012-07-26'),
('Оксана', 'Гринюк', '2012-08-04'),
('Артем', 'Гаврилов', '2012-09-15'),
('Тетяна', 'Григорук', '2012-11-28');

-- === Прив’язка учнів до класів ===
INSERT INTO class_student (class_id, student_id)
SELECT 1, id FROM student WHERE id BETWEEN 1 AND 20
UNION ALL
SELECT 2, id FROM student WHERE id BETWEEN 21 AND 40
UNION ALL
SELECT 3, id FROM student WHERE id BETWEEN 41 AND 60;

-- === Учителі ===
INSERT INTO teacher (first_name, last_name, birth_date, salary) VALUES
('Олена', 'Гордієнко', '1985-04-12', 18000),
('Сергій', 'Демченко', '1979-11-03', 20000),
('Ірина', 'Коваленко', '1988-02-19', 18500),
('Петро', 'Савчук', '1982-09-07', 19500),
('Анна', 'Романюк', '1990-06-23', 17500),
('Юрій', 'Шевченко', '1986-08-15', 19000);

-- === Предмети ===
INSERT INTO subject (name) VALUES
('Математика'),
('Українська мова'),
('Історія'),
('Англійська мова'),
('Інформатика');

-- === Розклад (по 5 днів × 5 уроків × 3 класи = 75 уроків) ===
-- lesson_number = 1..5
-- subject_id і teacher_id чергуються
INSERT INTO lesson (lesson_number, week_day, subject_id, class_id, teacher_id) VALUES
-- Клас 1
(1,1,1,1,1),(2,1,2,1,2),(3,1,3,1,3),(4,1,4,1,4),(5,1,5,1,5),
(1,2,2,1,2),(2,2,3,1,3),(3,2,4,1,4),(4,2,5,1,5),(5,2,1,1,1),
(1,3,3,1,3),(2,3,4,1,4),(3,3,5,1,5),(4,3,1,1,1),(5,3,2,1,2),
(1,4,4,1,4),(2,4,5,1,5),(3,4,1,1,1),(4,4,2,1,2),(5,4,3,1,3),
(1,5,5,1,5),(2,5,1,1,1),(3,5,2,1,2),(4,5,3,1,3),(5,5,4,1,4),

-- Клас 2
(1,1,1,2,1),(2,1,2,2,2),(3,1,3,2,3),(4,1,4,2,4),(5,1,5,2,5),
(1,2,2,2,2),(2,2,3,2,3),(3,2,4,2,4),(4,2,5,2,5),(5,2,1,2,1),
(1,3,3,2,3),(2,3,4,2,4),(3,3,5,2,5),(4,3,1,2,1),(5,3,2,2,2),
(1,4,4,2,4),(2,4,5,2,5),(3,4,1,2,1),(4,4,2,2,2),(5,4,3,2,3),
(1,5,5,2,5),(2,5,1,2,1),(3,5,2,2,2),(4,5,3,2,3),(5,5,4,2,4),

-- Клас 3
(1,1,1,3,1),(2,1,2,3,2),(3,1,3,3,3),(4,1,4,3,4),(5,1,5,3,5),
(1,2,2,3,2),(2,2,3,3,3),(3,2,4,3,4),(4,2,5,3,5),(5,2,1,3,1),
(1,3,3,3,3),(2,3,4,3,4),(3,3,5,3,5),(4,3,1,3,1),(5,3,2,3,2),
(1,4,4,3,4),(2,4,5,3,5),(3,4,1,3,1),(4,4,2,3,2),(5,4,3,3,3),
(1,5,5,3,5),(2,5,1,3,1),(3,5,2,3,2),(4,5,3,3,3),(5,5,4,3,4);
